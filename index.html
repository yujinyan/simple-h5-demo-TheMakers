<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>等待</title>
    <link rel="stylesheet" href="lib/jquery.fullpage.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="lib/jquery-1.11.1.js"></script>
    <script src="lib/jquery.fullpage.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
</head>
<body>
    <div id="fullpage">
        <div class="section" id="page-1" style="background-image: url(img/1/bg.jpg)">
            <img src="img/1/1.png" class="center animated animated-first fadeInUp" data-animation="fadeInUp" alt="不只是等待" style="top: 10vh; width:50%;" >
            <img src="img/1/2.png" class="center animated animated-second fadeInUp" data-animation="fadeInUp" style="top:21vh; width:7%;" >
            <img src="img/1/3.png" class="center animated animated-third fadeInUp" data-animation="fadeInUp" style="top:60vh; width:70%;" >
            <img src="img/1/4.png" class="center animated animated-fourth fadeInUp" data-animation="fadeInUp" style="top:70vh; width:70%;" >
        </div>
        <div class="section" id="page-2" style="background-image: url(img/2/bg.jpg)">
            <img src="img/2/1.png" class="center animated-slow animated-first" data-animation="bounceInDown" style="width:18%; top:20vh" alt="">
            <img src="img/2/2.png" style="width:25%; top:20vh; left:10%" class="animated-slow animated-second" data-animation="bounceInUp" alt="">
            <img src="img/2/3.png" style="width:25%; top:15vh; right:10%" class="animated-slow animated-second" data-animation="bounceInUp" alt="">
        </div>
        <div class="section" id="page-3" style="background-image: url(img/3-1/bg.jpg)">
           <img src="img/3-1/1.png" class="animated animated-first" data-animation="slideInRight"  style="width:20%; right:10%; top:15vh" alt="">
           <img src="img/3-1/2.png" class="animated animated-second center" data-animation="fadeInUp" style="width:80%; top:40vh" alt="">
           <img src="img/3-1/3.png" class="animated animated-third" data-animation="fadeInUp" style="width:100%; bottom:0;" alt="">
           <div class="btn-wrapper animated-fast animated-fourth" data-animation="zoomIn" style="bottom:20vh; right:10%;">
           <div class="story-btn-bg animated" data-animation="btn-pulse"></div>
               <button class="story-btn" style="">他的故事</button>
           </div><!--div.btn-wrapper-->
               
           <div class="intro hidden">
               <button class="close-btn">x</button>
               <p>一名热衷于机器人的资深创客。两年前他计划为孩子们开发一款融合趣味游戏和编程学习的机器人，众筹成功后490天时间里，经过无数次设计、试验、迭代、改版和打磨，Vortex终于从概念原型成为了小朋友们爱不释手的明星玩伴。</p>
           </div><!--.intro-->
        </div><!--.section #page-3-->
        <div class="section" id="page-4" style="background-image: url(img/3-2/bg.jpg)">
           <img src="img/3-2/1.png" class="animated animated-first" data-animation="slideInRight"  style="width:20%; left:20%; top:33vh" alt="">
           <img src="img/3-2/2.png" class="animated animated-second" data-animation="fadeInUp" style="width:70%; top:5vh; left:5%;" alt="">
           <img src="img/3-2/3.png" class="animated animated-third" data-animation="fadeInUp" style="width:100%; bottom:0;" alt="">
           <div class="btn-wrapper animated-fast animated-fourth" data-animation="zoomIn" style="bottom:20vh; right:10%;">
           <div class="story-btn-bg animated" data-animation="btn-pulse"></div>
               <button class="story-btn" style="">他的故事</button>
           </div><!--div.btn-wrapper-->
               
           <div class="intro hidden">
               <button class="close-btn">x</button>
               <p>热衷造型、手绘、蒸汽朋克、传统手工艺。“蒸汽工厂”手办的每个角色，通过小项的灵感和爱好者们的陪伴，都渐渐拥有了自己的故事和灵魂。</p>
           </div><!--.intro-->
        </div><!--.section #page-4-->
        <div class="section" id="page-5" style="background-image: url(img/3-3/bg.jpg)">
           <img src="img/3-3/1.png" class="animated animated-first" data-animation="slideInRight"  style="width:20%; left:5%; top:55vh" alt="">
           <img src="img/3-3/2.png" class="animated animated-second" data-animation="fadeInUp" style="width:85%; top:5vh; left:5%;" alt="">
           <img src="img/3-3/3.png" class="animated animated-third" data-animation="fadeInUp" style="width:100%; bottom:0;" alt="">
           <div class="btn-wrapper animated-fast animated-fourth" data-animation="zoomIn" style="bottom:20vh; right:10%;">
           <div class="story-btn-bg animated" data-animation="btn-pulse"></div>
               <button class="story-btn" style="">她的故事</button>
           </div><!--div.btn-wrapper-->
               
           <div class="intro hidden">
               <button class="close-btn">x</button>
               <p>学霸刘肖正在尝试对 NAO 机器人编程用于帮助治疗儿童自闭症。她将自己的项目命名为机器之心，机器人冰冷的外壳下温暖的关爱之心。她渴望机器人能够带那些活在自己世界的孩子早日回归社会。</p>
           </div><!--.intro-->
        </div>
        <div class="section" id="page-6"  style="background-image: url(img/4/bg.jpg)">
            <img src="img/4/1.png" class="animated-slow animated-first center" data-animation="fadeInUp" style="width:70%; top:20vh" alt="">
            <img src="img/4/2.png" class="animated-slow animated-second center" data-animation="fadeInUp" style="width:70%; top:35vh" alt="">
            <img src="img/4/3.png" class="animated-slow animated-third center" data-animation="fadeInUp" style="width:50%; top:50vh" alt="">
            <img src="img/4/4.png" class="animated-slow animated-fourth center" data-animation="fadeInUp" style="width:70%; top:70vh" alt="">
        </div>
        <div class="section" id="page-7"  style="background-image: url(img/6/bg.jpg)">
            <div class="mask animated-slow animated-first hidden" data-animation="fadeIn"></div>
            <img src="img/6/1.png" class="animated-slow animated-first center hidden" data-animation="fadeInUp" style="width:45%; top:25vh" alt="">
            <img src="img/6/2.png" class="animated-slow animated-second center hidden" data-animation="fadeInUp" style="width:45%; top:33vh" alt="">
            <img src="img/6/3.png" class="animated-slow animated-third center hidden" data-animation="fadeInUp" style="width:45%; top:41vh" alt="">
            <img src="img/6/4.png" class="animated-slow animated-fourth center hidden" data-animation="fadeInUp" style="width:45%; top:49vh" alt="">
            <img src="img/6/5.png" class="animated-slow animated-fifth center hidden" data-animation="fadeInUp" style="width:45%; top:57vh" alt="">
            <a href="http://themakers.cn"><img src="img/6/6.png" class="animated-slow animated-sixth center hidden" data-animation="fadeInUp" style="width:45%; top:71vh" alt=""></a>

        </div>
    </div>
    <script>
        $(function(){
            $('#fullpage').fullpage({
                onLeave: function(index, nextIndex, direction) {
                    var leavingSection = $(this);
                    if (direction == 'down') { // define enter section
                        var enterSection = $(this).next();
                    } else if (direction == 'up') {
                        var enterSection = $(this).prev();
                    }
                    
                    console.log(enterSection);
                    
                    if (leavingSection.attr('id')=='page-7') {
                        window.setTimeout(function(){
                            leavingSection.find('.animated, .animated-slow, .animated-fast').each(function(){
                                $(this).addClass('hidden');
                            })
                        },1000)
                    }
                    leavingSection.find('.animated, .animated-slow, .animated-fast').each(function(){
                        var a = $(this).data('animation');
                        $(this).removeClass(a);
                    });
                    
                    if (enterSection.attr('id')=='page-7') {
                        window.setTimeout(function(){
                            enterSection.find('.animated, .animated-slow, .animated-fast').each(function(){
                                var that = $(this);
                                console.log(that);
                                that.removeClass('hidden');
                                var a = that.data('animation');
                                that.addClass(a);
                            });
                        },1500);
                    } else {
                        enterSection.find('.animated, .animated-slow, .animated-fast').each(function(){
                            var a = $(this).data('animation');
                            $(this).addClass(a);
                        });
                    }
                }
            });
            
            // button click actions
            $('.story-btn').click(function(){
                var intro = $(this).parent().siblings('.intro');
                var section = $(this).parentsUntil('#fullpage').last();
                intro.removeClass('hidden');
                setTimeout(function(){
                    intro.addClass('show');
                },100); // setTimeout to make transition work
                intro.addClass('top')
            });
            
            $('.close-btn').click(function(){
                var intro = $(this).parent();
                intro.removeClass('show');
                setTimeout(function(){
                    intro.addClass('hidden');
                },500);
                intro.removeClass('top');
            })
        })
    </script>
</body>
</html>